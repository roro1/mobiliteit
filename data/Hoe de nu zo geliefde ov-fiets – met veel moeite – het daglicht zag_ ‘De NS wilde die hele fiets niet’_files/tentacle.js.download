!function(){var r=window.tentacles.installUri?window.tentacles.installUri+"/tentacles.js?":"https://tentacles.smartocto.com/ten/tentacles.js?",f=["h1","h2","h3","h4","h5","h6","p","span","strong","cite"],g=["img","source"],o=(window.tentaclesProcessedABTitles=!1,window.tentacles.flickerHandling||!1),y=window.tentacles.apiToken;function W(){o&&document.body.classList.remove("tentacles-flicker-handling")}y||""===y||v.error('TENTACLES: No API key given. Please add a valid apiToken above this script call: window.tentacles = { apiToken: "09876543edfghy7"};');var w,l,s,a,i,z=null,G=null,Z=null,d=null,u=null,m=null,c={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,a,r,o,i,l="",s=0;for(e=c._utf8_encode(e);s<e.length;)a=(t=e.charCodeAt(s++))>>2,r=(3&t)<<4|(t=e.charCodeAt(s++))>>4,o=(15&t)<<2|(n=e.charCodeAt(s++))>>6,i=63&n,isNaN(t)?o=i=64:isNaN(n)&&(i=64),l=l+this._keyStr.charAt(a)+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(i);return l},decode:function(e){var t,n,a,r,o,i,l="",s=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");s<e.length;)a=this._keyStr.indexOf(e.charAt(s++)),t=(15&(r=this._keyStr.indexOf(e.charAt(s++))))<<4|(o=this._keyStr.indexOf(e.charAt(s++)))>>2,n=(3&o)<<6|(i=this._keyStr.indexOf(e.charAt(s++))),l+=String.fromCharCode(a<<2|r>>4),64!==o&&(l+=String.fromCharCode(t)),64!==i&&(l+=String.fromCharCode(n));return l=c._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):t=127<a&&a<2048?(t+=String.fromCharCode(a>>6|192))+String.fromCharCode(63&a|128):(t=(t+=String.fromCharCode(a>>12|224))+String.fromCharCode(a>>6&63|128))+String.fromCharCode(63&a|128)}return t},_utf8_decode:function(e){var t,n="",a=0;for(c1=c2=0;a<e.length;)(t=e.charCodeAt(a))<128?(n+=String.fromCharCode(t),a++):191<t&&t<224?(c2=e.charCodeAt(a+1),n+=String.fromCharCode((31&t)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),n+=String.fromCharCode((15&t)<<12|(63&c2)<<6|63&c3),a+=3);return n}},S=(w=String.fromCharCode,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={},i={compressToBase64:function(e){if(null==e)return"";var t=i._compress(e,6,function(e){return l.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""===t?null:i._decompress(t.length,32,function(e){return h(l,t.charAt(e))})},compressToUTF16:function(e){return null==e?"":i._compress(e,15,function(e){return w(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""===t?null:i._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),a=0,r=t.length;a<r;a++){var o=t.charCodeAt(a);n[2*a]=o>>>8,n[2*a+1]=o%256}return n},decompressFromUint8Array:function(e){if(null==e)return i.decompress(e);for(var t=new Array(e.length/2),n=0,a=t.length;n<a;n++)t[n]=256*e[2*n]+e[2*n+1];var r=[];return t.forEach(function(e){r.push(w(e))}),i.decompress(r.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,function(e){return s.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""===t?null:(t=t.replace(/ /g,"+"),i._decompress(t.length,32,function(e){return h(s,t.charAt(e))}))},compress:function(e){return i._compress(e,16,function(e){return w(e)})},_compress:function(e,t,n){if(null==e)return"";for(var a,r,o,i,l={},s={},c="",d=2,g=3,u=2,m=[],h=0,f=0,p=0;p<e.length;p+=1)if(o=e.charAt(p),Object.prototype.hasOwnProperty.call(l,o)||(l[o]=g++,s[o]=!0),i=c+o,Object.prototype.hasOwnProperty.call(l,i))c=i;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(a=0;a<u;a++)h<<=1,f===t-1?(f=0,m.push(n(h)),h=0):f++;for(r=c.charCodeAt(0),a=0;a<8;a++)h=h<<1|1&r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r>>=1}else{for(r=1,a=0;a<u;a++)h=h<<1|r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r=0;for(r=c.charCodeAt(0),a=0;a<16;a++)h=h<<1|1&r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r>>=1}0===--d&&(d=Math.pow(2,u),u++),delete s[c]}else for(r=l[c],a=0;a<u;a++)h=h<<1|1&r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r>>=1;0===--d&&(d=Math.pow(2,u),u++),l[i]=g++,c=String(o)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(a=0;a<u;a++)h<<=1,f===t-1?(f=0,m.push(n(h)),h=0):f++;for(r=c.charCodeAt(0),a=0;a<8;a++)h=h<<1|1&r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r>>=1}else{for(r=1,a=0;a<u;a++)h=h<<1|r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r=0;for(r=c.charCodeAt(0),a=0;a<16;a++)h=h<<1|1&r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r>>=1}0===--d&&(d=Math.pow(2,u),u++),delete s[c]}else for(r=l[c],a=0;a<u;a++)h=h<<1|1&r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r>>=1;0===--d&&(d=Math.pow(2,u),u++)}for(r=2,a=0;a<u;a++)h=h<<1|1&r,f===t-1?(f=0,m.push(n(h)),h=0):f++,r>>=1;for(;;){if(h<<=1,f===t-1){m.push(n(h));break}f++}return m.join("")},decompress:function(t){return null==t?"":""===t?null:i._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,t,n){for(var a,r,o,i,l,s,c=[],d=4,g=4,u=3,m="",h=[],f={val:n(0),position:t,index:1},p=0;p<3;p+=1)c[p]=p;for(r=0,i=Math.pow(2,2),l=1;l!==i;)o=f.val&f.position,f.position>>=1,0===f.position&&(f.position=t,f.val=n(f.index++)),r|=(0<o?1:0)*l,l<<=1;switch(r){case 0:for(r=0,i=Math.pow(2,8),l=1;l!==i;)o=f.val&f.position,f.position>>=1,0===f.position&&(f.position=t,f.val=n(f.index++)),r|=(0<o?1:0)*l,l<<=1;s=w(r);break;case 1:for(r=0,i=Math.pow(2,16),l=1;l!==i;)o=f.val&f.position,f.position>>=1,0===f.position&&(f.position=t,f.val=n(f.index++)),r|=(0<o?1:0)*l,l<<=1;s=w(r);break;case 2:return""}for(a=c[3]=s,h.push(s);;){if(f.index>e)return"";for(r=0,i=Math.pow(2,u),l=1;l!==i;)o=f.val&f.position,f.position>>=1,0===f.position&&(f.position=t,f.val=n(f.index++)),r|=(0<o?1:0)*l,l<<=1;switch(s=r){case 0:for(r=0,i=Math.pow(2,8),l=1;l!==i;)o=f.val&f.position,f.position>>=1,0===f.position&&(f.position=t,f.val=n(f.index++)),r|=(0<o?1:0)*l,l<<=1;c[g++]=w(r),s=g-1,d--;break;case 1:for(r=0,i=Math.pow(2,16),l=1;l!==i;)o=f.val&f.position,f.position>>=1,0===f.position&&(f.position=t,f.val=n(f.index++)),r|=(0<o?1:0)*l,l<<=1;c[g++]=w(r),s=g-1,d--;break;case 2:return h.join("")}if(0===d&&(d=Math.pow(2,u),u++),c[s])m=c[s];else{if(s!==g)return null;m=a+a.charAt(0)}h.push(m),c[g++]=a+m.charAt(0),a=m,0===--d&&(d=Math.pow(2,u),u++)}}});function h(e,t){if(!a[e]){a[e]={};for(var n=0;n<e.length;n++)a[e][e.charAt(n)]=n}return a[e][t]}"function"==typeof define&&define.amd?define("LZString",function(){return S}):"undefined"!=typeof module&&null!=module&&(module.exports=S),Math.round10||(Math.round10=function(e,t){return n="round",e=e,void 0!==(t=t)&&0!=+t?(e=+e,t=+t,isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math[n](+(e[0]+"e"+(e[1]?+e[1]-t:-t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+t:t)))):Math[n](e);var n});var K,P,T,b,O,x,C,e,t,n,A=3e4,N="active",Q="completed",p="https://api.smartocto.com/api/brands/tentacles",k="t"===localStorage.getItem("tentaclesEnabled"),D=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls")),v=window.console,I=function(){},E=function(){},ee=(localStorage.removeItem("tentacles_user_id"),localStorage.removeItem("tentacle_pagedata"),localStorage.removeItem("tentacles_pagedata"),localStorage.removeItem("tentacles_domainregex"),localStorage.removeItem("tentacles_useDivolte"),localStorage.removeItem("tentacles_reading_time"),localStorage.removeItem("tentacles_basePaths"),localStorage.removeItem("tentacles_urls"),localStorage.removeItem("tentacles_data_layer_config"),localStorage.removeItem("tentacles_page_urls"),localStorage.removeItem("tentacles_excludeclasses"),localStorage.removeItem("tentacles_domainsearchpath"),localStorage.removeItem("tentacles_urls_time"),localStorage.removeItem("tentacles_useIngestionApi"),localStorage.removeItem("tentacles_activefilter"),localStorage.removeItem("tentacles_dockcache_time"),localStorage.removeItem("tentacles_domainvpath"),localStorage.removeItem("tentacles_xPathIds"),localStorage.removeItem("tentacles_currentHostname"),localStorage.removeItem("tentacles_replacementElements"),localStorage.removeItem("tentacles_useDivInReplacement"),ee||{}),te=!0,ne=!0,J=[],ae=[],re="",R=!1,oe="",ie="",L="",M=[],U=!1,B=[],j=!1,F=null,X=!1,q=!1,H=!1,Y=!1;function le(e,t,n){for(var a=0;a<e.length;a++)if(e[a][t]===n)return e[a];return null}function se(e){for(var t=function(e){var t,n,a,r=0,o=[];if(""===e.trim())return[];if(/[^0-9a-fA-F]/.test(e))return!1;for(n=(t=e.match(/.{1,2}/g)).length,a=0;a<n;++a)""!==t[a].trim()&&(o[r++]=parseInt(t[a],16));return o}(e),n="",a=0;a<t.length;a+=2)n+=String.fromCharCode(t[a]|t[a+1]<<8);return n}function ce(e){for(var t=[],n=0;n<e.length;n++){var a=e.charCodeAt(n);t.push(255&a),t.push(a>>8&255)}var r,o,i,l=t,s="";if(!function(e){return"object"==typeof e&&e instanceof Array}(l))return!1;for(o=l.length,r=0;r<o;++r)l[r]<0&&(l[r]=l[r]+256),void 0===l[r]&&(alert("Boom "+r),l[r]=0),1===(i=l[r].toString(16)).length&&(i="0"+i),s+=i;return s.trim()}function de(){return new Promise(function(t,n){try{var e=localStorage.getItem("tentacles_"+y+"_basePaths");null!==e?-1===JSON.parse(e).indexOf(window.location.pathname)?t(!0):t(!1):V().then(function(e){t(!!e)})}catch(e){n(e)}})}function V(g){return new Promise(function(t,n){try{var e,a,r=localStorage.getItem("tentacles_"+y+"_domainregex"),o=null!==(o=localStorage.getItem("tentacles_"+y+"_domainregex_on_params"))&&"true"===o,i=localStorage.getItem("tentacles_"+y+"_domainvpath"),l=new RegExp(i,"g"),s=localStorage.getItem("tentacles_"+y+"_basePaths"),c=o?window.location.href:window.location.pathname,d=!1;g&&(c=g),i&&(d=l.test(c)),r?(e=new RegExp(r,"g").exec(c))&&2<=e.length?(e.splice(0,1),a=e.filter(function(e){if(e)return e}).map(function(e){return e.toString()})[0],s?ve("feed"+a).then(function(e){e=e.substring(0,20);t(d?"v"+e:e)}):t(d?"v"+a:a)):t():s?ve("feed"+c).then(function(e){e=e.substring(0,20);t(d?"v"+e:e)}):t()}catch(e){n(e)}})}function ge(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest).open(e,t):n=null,n}function ue(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLocaleLowerCase()).replace(/\+/g,"")).replace(/\*/g,"")).replace(/\-/g,"")).replace(/\=/g,"")).replace(/&&/g,"")).replace(/||/g,"")).replace(/>/g,"")).replace(/</g,"")).replace(/!/g,"")).replace(/\(/g,"")).replace(/\)/g,"")).replace(/{/g,"")).replace(/}/g,"")).replace(/\[/g,"")).replace(/]/g,"")).replace(/^/g,"")).replace(/"/g,"")).replace(/~/g,"")).replace(/\?/g,"")).replace(/:/g,"")).replace(/\\/g,"")).replace(/\//g,"")}function me(e){var t,n={};if(null===e||!Array.isArray(e))return null;for(t in e){var a,r=e[t];for(a in r)if(r[a]&&r[a].mapping){var o=r[a].mapping;if(o)for(var i=0;i<o.length;i++){var l=o[i],s=l.inputField,c="["!==s.substring(0,1)?".":"",c="["!==s.substring(0,1)?s:a+c+s,s=l.outputField;s in n&&n[s]||(n[s]=function(e){try{var t=null;a=(a=e).replace(/\[(\d+)]/g,".$1"),r=window[a.substring(0,a.indexOf("."))],a=a.substring(a.indexOf(".")+1);var n=String(a).split(".").reduce(function(e,t){try{e=e[t]}catch(e){return null}return e},r);return t=n?"string"==typeof n||n instanceof String?n.split("!").join("&#33;"):n:t}catch(e){v.error(e)}var a,r}(c))}}}return n}function he(e,r,t){var o,n,a;e&&2<e.length&&(null!==(o=me(e=JSON.parse(e)))&&null!==r&&(n=r,a=t,new Promise((t,e)=>{ve(ue(n+"_"+a)).then(e=>{t(e)})}).then(e=>{var a=function(e){try{var t=c.encode(JSON.stringify(e)),n=t.length,a=0;if(n<16)return t;for(var r=0;r<n;r++)a+=t.charCodeAt(r);return ue(c.encode(t.substring(0,8)+"-"+t.substring(n/2-4,n/2+4)+"-"+t.substring(n-8,n)+"-"+a))}catch(e){v.error(e)}}(o);o.hash=a,o.brandId=r,o.documentId=e,o.channel=ye(),m=setTimeout(function(){var t,n;k||(t=function(){q&&ingestion.signal("dataLayer",o),clearTimeout(m)},(n=ge("get","https://api.smartocto.com/api/brands/"+r+"/dataLayer/"+e+"_"+a))&&(n.onreadystatechange=function(){var e;4===this.readyState&&200===this.status&&(e=JSON.parse(n.responseText))&&!1===e.match&&t()},n.send()))},2e4)})))}function fe(){return new Promise(function(a){function m(e){return e.replace(/[^\w\s]/gi,"")}function h(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])<0)return;return 1}var e,n=[],r=[],l=(U=null!==(U=localStorage.getItem("tentacles_"+y+"_useDivInReplacement"))&&"true"===U,localStorage.getItem("tentacles_"+y+"_basePaths")),o=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls"));function s(t,n,a){let r=0;for(let e=0;e<n.length;e++){var o,i,l,s=a[e]||"",c=[],d=function(e){for(var t,n=/\b\w+\b/g,a=[];(t=n.exec(e))&&a.push(m(t[0])););return a}(n[e]);if("a"===t.tagName.toLowerCase()&&1===t.childNodes.length&&"#text"===t.childNodes[0].nodeName&&h(d,m(t.innerText))&&t.innerText.length<=n[e].length+4)c.push([t.children.length,t]);else{U&&(u=void 0,(null===(u=localStorage.getItem("tentacles_"+y+"_replacementElements"))||"undefined"===u?[]:JSON.parse(u)).map(function(e){-1===f.indexOf(e)&&f.push(e)}));for(var g=0;g<f.length;g++)for(o=f[g],i=t.querySelectorAll(o),l=0;l<i.length;l++)i[l]&&h(d,m(i[l].innerText))&&i[l].innerText.length<=n[e].length+4&&function(e){if(!(e instanceof Element))return!1;var t=getComputedStyle(e);return"none"!==t.display&&("visible"===t.visibility&&(!(t.opacity<.1)&&e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width!==0))}(i[l])&&c.push([i[l].children.length,i[l]])}c.length&&(c.sort(function(e,t){return t[0]-e[0]}),u=c.pop(),(element=u[1]).innerText=s,r++)}var u;return r===n.length}function c(n,a){return new Promise((t,e)=>{!n.includes("b-cdn.net")&&!n.includes("smartocto.com")||0<=r.indexOf(n)?t({isReachable:!0,titleLocation:a}):fetch(n,{method:"HEAD"}).then(e=>{r.push(n),200===e.status?t({isReachable:!0,titleLocation:a}):(v.error(`Failed to fetch the URL: ${n}. Status code: `+e.status),t({isReachable:!1,titleLocation:a}))}).catch(e=>{v.error(`An error occurred while trying to fetch the URL: ${n} `+e),t({isReachable:!1,titleLocation:a})})})}function d(n,a,e){let r=0;if(0<e.length){const l=[];for(let t=0;t<a.length;t++){for(let e=0;e<g.length;e++){var o=g[e],i=n.querySelectorAll(o);for(let e=0;e<i.length;e++){const s=i[e];s&&(s.src.includes(a[t])||s.srcset.includes(a[t]))&&l.push({childrenCount:s.children.length,element:s})}}if(l.length){l.sort((e,t)=>t.childrenCount-e.childrenCount);const c=l.pop().element;c.src&&""!==c.src&&(c.src=c.src.split(a[t]).join(e[t])),c.srcset&&""!==c.srcset&&(c.srcset=c.srcset.split(a[t]).join(e[t])),r++}}}return r===a.length}o&&0<o.length?(e=o.map(function(i){return new Promise(function(t){var o,e;0<=n.indexOf(i.relationId)?t():(n.push(i.relationId),o=i.relationId,i.hasOwnProperty("type")&&"video"===i.type&&(o=i.relationId.substring(1)),e=(l&&0<l.length?Array.from(document.querySelectorAll('a[tentacle-id^="'+o+'"]')):Array.from(document.querySelectorAll('a[href*="'+o+'"]'))).map(function(r){return new Promise(function(n){var t,e,a;"1"===r.getAttribute("data-tentacles-r")?n():(e=M,t=Array.from(r.classList),e&&Array.isArray(e)&&0<e.length&&t&&Array.isArray(t)&&0<t.length&&0<e.filter(function(e){return-1<t.indexOf(e)}).length?n():(a=e=!1,i.hasOwnProperty("oldTitle")&&i.hasOwnProperty("newTitle")&&(e=!0),i.hasOwnProperty("oldPictures")&&i.hasOwnProperty("newPictures")&&0<r.querySelectorAll("img").length&&(a=!0),e&&a?c(i.newPictures[0],r).then(function(e){var t;e.isReachable?(t=e=!1,e=JSON.stringify(i.oldTitle.split("$$"))===JSON.stringify(i.newTitle.split("$$"))||s(r,i.oldTitle.split("$$"),i.newTitle.split("$$")),t=JSON.stringify(i.oldPictures)===JSON.stringify(i.newPictures)||d(r,i.oldPictures,i.newPictures),e&&t?(r.setAttribute("data-tentacles-r","1"),n(o)):s(r,i.newTitle.split("$$"),i.oldTitle.split("$$"))||d(r,i.newPictures,i.oldPictures)||(r.removeAttribute("data-tentacles-r"),v.warn("Title and picture restore failed and could be caused by a missing match in the title.","oldTitle",JSON.stringify(i.oldTitle.split("$$")),"newTitle",JSON.stringify(i.newTitle.split("$$"),"oldPictures",JSON.stringify(i.oldPictures),"newPictures",JSON.stringify(i.newPictures))))):v.error("The new picture is not reachable",i.newPictures[0]),n()}).catch(function(e){v.error("An error occurred during picture and title replacement: "+e),n()}):e&&!a?new Promise((e,t)=>{e(!0)}).then(function(e){JSON.stringify(i.oldTitle.split("$$"))!==JSON.stringify(i.newTitle.split("$$"))&&!s(r,i.oldTitle.split("$$"),i.newTitle.split("$$"))||(r.setAttribute("data-tentacles-r","1"),n(o)),n()}).catch(function(e){v.error("An error occurred during title replacement: "+e),n()}):a&&!e?c(i.newPictures[0],r).then(function(e){var t=e.titleLocation;e.isReachable?JSON.stringify(i.oldPictures)===JSON.stringify(i.newPictures)||d(t,i.oldPictures,i.newPictures)?(t.setAttribute("data-tentacles-r","1"),n(o)):d(t,i.newPictures,i.oldPictures)||(t.removeAttribute("data-tentacles-r"),v.warn("Restoring original picture failed and could be caused by a missing match in original picture paths.","oldPictures",JSON.stringify(i.oldPictures),"newPictures",JSON.stringify(i.newPictures))):v.error("The new picture is not reachable",i.newPictures[0]),n()}).catch(function(e){v.error("An error occurred during picture replacement: "+e),n()}):n()))})}),Promise.all(e).then(function(e){t(e)}))})}),Promise.all(e).then(function(e){for(var t=0;t<e.length;t++)e[t]&&ae.push(e[t][0]);var n=o.filter(function(e){var t=e.hasOwnProperty("type")&&"video"===e.type?e.relationId.substring(1):e.relationId;return"active"===e.status&&-1<ae.indexOf(t)}).map(function(e){return{headerTestId:e.id,headerTestChosenId:e.chosen}});u=setTimeout(function e(t,n,a){q&&void 0!==window.ingestion?0<a.length&&!k&&(n={brandId:n,impressions:JSON.stringify(a)},q&&ingestion.signal(t,n)):u=setTimeout(e,250,"impressions",T,a)},1e3,"impressions",T,n),window.tentaclesProcessedABTitles=!0,a()})):a()})}function pe(e,t){e.url||v.error("oops no scriptURL defined to load");var n=document.createElement("script"),a=(n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t&&t())}:t&&(n.onload=function(){t()}),e.defer&&(n.defer=!0),e.async&&(n.async="async"),n.src=e.url,document.getElementsByTagName("body")[0]);"body-top"===e.location&&a?(n.id="tentacles-script",a.insertBefore(n,a.firstChild)):a?a.appendChild(n):addEventListener("DOMContentLoaded",function(){document.getElementsByTagName("body")[0].appendChild(n)})}function _e(e){var t,n;return t=window.navigator.userAgent,(0<(n=t.indexOf("MSIE "))?parseInt(t.substring(n+5,t.indexOf(".",n)),10):0<t.indexOf("Trident/")?(n=t.indexOf("rv:"),parseInt(t.substring(n+3,t.indexOf(".",n)),10)):0<(n=t.indexOf("Edge/"))&&parseInt(t.substring(n+5,t.indexOf(".",n)),10))?("object"!=typeof window.wgxpath&&pe({url:WGXPATH_URL,defer:!0,async:!1},function(){wgxpath.install()}),window.document.createExpression(e).evaluate(window.document,XPathResult.STRING_TYPE)):(new XPathEvaluator).createExpression(e).evaluate(document,XPathResult.FIRST_ORDERED_NODE_TYPE).singleNodeValue}function we(){return window.crypto||window.msCrypto}function Se(e){for(var t="",n=new DataView(e),a=0;a<n.byteLength;a+=4){var r="00000000";t+=(r+n.getUint32(a).toString(16)).slice(-r.length)}return t}function ve(e){try{var t=(new TextEncoder).encode(e);return we().subtle.digest("SHA-256",t).then(Se)}catch(e){E(e)}}function Ie(){return new Promise(function(v,t){try{clearInterval(tentacle_timer_apply);var I,e=localStorage.getItem("tentacles_"+y+"_urls_time"),n=localStorage.getItem("tentacles_"+y+"_dockcache_time"),a=new Date;null!==e&&a<new Date(e)&&(J=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls")),te=!1),k&&null!==n&&a<new Date(n)&&(ne=!1),te||k&&ne?(I=ge("get",p+"?i="+y+(k?"&dock=true":"")))&&(I.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(I.responseText);if(J=e.headerTests,re=e.domainSettings.regex,R="true"===String(e.domainSettings.regex_on_params).toLocaleLowerCase(),L=e.domainSettings.vPath,K=e.domainSettings.searchPath,P=e.domainSettings.mapping,T=window&&window.tentacles&&window.tentacles.brandId?window.tentacles.brandId:e.domainSettings.brand,oe=e.domainSettings.mainContent,ie=e.domainSettings.excludeContent,j=e.domainSettings.xPathIds,M=e.domainSettings.excludeClasses,U=e.domainSettings.useDivInReplacement,B=e.domainSettings.replacementElements,F=e.domainSettings.dataLayerConfig,X=e.domainSettings.collectReadingtime,b=e.domainSettings.basePaths,C=e.domainSettings.ignorePaths,O=e.domainSettings.customCss,H=e.domainSettings.doNotTrackUserId,x=e.domainSettings.urls,q="true"===String(e.domainSettings.useIngestionApi).toLocaleLowerCase(),Y="true"===String(e.domainSettings.imageTesting).toLocaleLowerCase(),null===localStorage.getItem("tentacles_"+y+"_urls")){for(var t=!(D=[]),n=0,a=J.length;n<a;n++)if(0!==J[n].testData.length){var r,t=!1,o={};if(J[n].status===N)o.chosen=J[n].chosen,t=!0;else if(J[n].status===Q)for(var i=0,l=J[n].testData.length;i<l;i++)if(J[n].testData[i].won){t=!0,o.chosen=J[n].testData[i].id;break}o.id=J[n].id,o.relationId=J[n].relationId,o.status=J[n].status,o.oldTitle=J[n].testData[0].title,J[n].hasOwnProperty("pictures")&&(o.oldPictures=J[n].testData[0].pictures),o.type=J[n].hasOwnProperty("type")?J[n].type:"story",!1===t?(o.newTitle=o.oldTitle,o.hasOwnProperty("oldPictures")&&(o.newPictures=o.oldPictures)):(r=le(J[n].testData,"id",o.chosen),o.newTitle=r.title,r.hasOwnProperty("pictures")&&(o.newPictures=r.pictures)),0===o.chosen&&t||D.push(o)}localStorage.setItem("tentacles_"+y+"_domainsearchpath",K),localStorage.setItem("tentacles_"+y+"_urls",JSON.stringify(D)),localStorage.setItem("tentacles_"+y+"_domainregex",re),localStorage.setItem("tentacles_"+y+"_brand",T),localStorage.setItem("tentacles_"+y+"_main_content",oe),localStorage.setItem("tentacles_"+y+"_exclude_content",ie),R?localStorage.setItem("tentacles_"+y+"_domainregex_on_params",R):localStorage.removeItem("tentacles_"+y+"_domainregex_on_params"),M?localStorage.setItem("tentacles_"+y+"_excludeclasses",JSON.stringify(M)):localStorage.removeItem("tentacles_"+y+"_excludeclasses"),B?localStorage.setItem("tentacles_"+y+"_replacementElements",JSON.stringify(B)):localStorage.removeItem("tentacles_"+y+"_replacementElements"),L?localStorage.setItem("tentacles_"+y+"_domainvpath",L):localStorage.removeItem("tentacles_"+y+"_domainvpath"),P?localStorage.setItem("tentacles_"+y+"_pagemapping",JSON.stringify(P)):localStorage.removeItem("tentacles_"+y+"_pagemapping"),j?localStorage.setItem("tentacles_"+y+"_xPathIds",j):localStorage.removeItem("tentacles_"+y+"_xPathIds"),U?localStorage.setItem("tentacles_"+y+"_useDivInReplacement",JSON.stringify(U)):localStorage.removeItem("tentacles_"+y+"_useDivInReplacement"),F?localStorage.setItem("tentacles_"+y+"_data_layer_config",JSON.stringify(F)):localStorage.removeItem("tentacles_"+y+"_data_layer_config"),X?localStorage.setItem("tentacles_"+y+"_reading_time",JSON.stringify(X)):localStorage.removeItem("tentacles_"+y+"_reading_time"),b?localStorage.setItem("tentacles_"+y+"_basePaths",JSON.stringify(b)):localStorage.removeItem("tentacles_"+y+"_basePaths"),C?localStorage.setItem("tentacles_"+y+"_ignorePaths",JSON.stringify(C)):localStorage.removeItem("tentacles_"+y+"_ignorePaths"),H?localStorage.setItem("tentacles_"+y+"_doNotTrackUserId",H):localStorage.removeItem("tentacles_"+y+"_doNotTrackUserId"),q?localStorage.setItem("tentacles_"+y+"_useIngestionApi",q):localStorage.removeItem("tentacles_"+y+"_useIngestionApi"),x&&localStorage.setItem("tentacles_"+y+"_page_urls",JSON.stringify(x)),O&&localStorage.setItem("tentacles_"+y+"_customCss",O),Y&&localStorage.setItem("tentacles_"+y+"_imageTesting",Y),localStorage.setItem("tentacles_"+y+"_urls_time",""+new Date((new Date).getTime()+A)),k&&localStorage.setItem("tentacles_"+y+"_dockcache_time",""+new Date((new Date).getTime()+A)),v()}else{var s=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls")),c=!1;if(0===J.length)localStorage.removeItem("tentacles_"+y+"_urls");else{for(var d,g=J.map(function(e){return e.id}),u=0;u<J.length;u++)if(0!==J[u].testData.length){for(var c=!1,m=0;m<s.length;m++)if(s[m].id===J[u].id){for(var h=0,f=J[u].testData.length;h<f;h++)if(J[u].testData[h].won){s[m].chosen=J[u].testData[h].id;break}s[m].status=J[u].status,(p=le(J[u].testData,"id",J[u].chosen))&&(s[m].type=J[u].type,s[m].chosen=J[u].chosen,p.hasOwnProperty("title")&&(s[m].newTitle=p.title),p.hasOwnProperty("pictures")&&(s[m].newPictures=p.pictures)),c=!0;break}if(!1===c){var p,w={};if(J[u].status===N)w.chosen=J[u].chosen,c=!0;else if(J[u].status===Q)for(var m=0,S=J[u].testData.length;m<S;m++)if(J[u].testData[m].won){c=!0,w.chosen=J[u].testData[m].id;break}w.id=J[u].id,w.relationId=J[u].relationId,w.status=J[u].status,w.oldTitle=J[u].testData[0].title,J[u].hasOwnProperty("pictures")&&(w.oldPictures=J[u].testData[0].pictures),w.type=J[u].hasOwnProperty("type")?J[u].type:"story",!1===c?(w.newTitle=w.oldTitle,w.newPictures=w.oldPictures):(p=le(J[u].testData,"id",w.chosen),w.newTitle=p.title,p.hasOwnProperty("pictures")&&(w.newPictures=p.pictures)),0===w.chosen&&c||s.push(w)}}0<J.length&&(d=s.filter(function(e){if(-1!==g.indexOf(e.id))return!0})),localStorage.setItem("tentacles_"+y+"_urls",JSON.stringify(d)),D=d}localStorage.setItem("tentacles_"+y+"_domainsearchpath",K),localStorage.setItem("tentacles_"+y+"_domainregex",re),localStorage.setItem("tentacles_"+y+"_brand",T),oe?localStorage.setItem("tentacles_"+y+"_main_content",oe):localStorage.removeItem("tentacles_"+y+"_main_content"),ie?localStorage.setItem("tentacles_"+y+"_exclude_content",ie):localStorage.removeItem("tentacles_"+y+"_exclude_content"),R?localStorage.setItem("tentacles_"+y+"_domainregex_on_params",JSON.stringify(R)):localStorage.removeItem("tentacles_"+y+"_domainregex_on_params"),M?localStorage.setItem("tentacles_"+y+"_excludeclasses",JSON.stringify(M)):localStorage.removeItem("tentacles_"+y+"_excludeclasses"),B?localStorage.setItem("tentacles_"+y+"_replacementElements",JSON.stringify(B)):localStorage.removeItem("tentacles_"+y+"_replacementElements"),L?localStorage.setItem("tentacles_"+y+"_domainvpath",L):localStorage.removeItem("tentacles_"+y+"_domainvpath"),P?localStorage.setItem("tentacles_"+y+"_pagemapping",JSON.stringify(P)):localStorage.removeItem("tentacles_"+y+"_pagemapping"),j?localStorage.setItem("tentacles_"+y+"_xPathIds",j):localStorage.removeItem("tentacles_"+y+"_xPathIds"),U?localStorage.setItem("tentacles_"+y+"_useDivInReplacement",JSON.stringify(U)):localStorage.removeItem("tentacles_"+y+"_useDivInReplacement"),F?localStorage.setItem("tentacles_"+y+"_data_layer_config",JSON.stringify(F)):localStorage.removeItem("tentacles_"+y+"_data_layer_config"),X?localStorage.setItem("tentacles_"+y+"_reading_time",JSON.stringify(X)):localStorage.removeItem("tentacles_"+y+"_reading_time"),b?localStorage.setItem("tentacles_"+y+"_basePaths",JSON.stringify(b)):localStorage.removeItem("tentacles_"+y+"_basePaths"),C?localStorage.setItem("tentacles_"+y+"_ignorePaths",JSON.stringify(C)):localStorage.removeItem("tentacles_"+y+"_ignorePaths"),O?localStorage.setItem("tentacles_"+y+"_customCss",O):localStorage.removeItem("tentacles_"+y+"_customCss"),x?localStorage.setItem("tentacles_"+y+"_page_urls",JSON.stringify(x)):localStorage.removeItem("tentacles_"+y+"_page_urls"),H?localStorage.setItem("tentacles_"+y+"_doNotTrackUserId",H):localStorage.removeItem("tentacles_"+y+"_doNotTrackUserId"),q?localStorage.setItem("tentacles_"+y+"_useIngestionApi",q):localStorage.removeItem("tentacles_"+y+"_useIngestionApi"),Y?localStorage.setItem("tentacles_"+y+"_imageTesting",Y):localStorage.removeItem("tentacles_"+y+"_imageTesting"),localStorage.setItem("tentacles_"+y+"_urls_time",""+new Date((new Date).getTime()+A)),k&&localStorage.setItem("tentacles_"+y+"_dockcache_time",""+new Date((new Date).getTime()+A)),v()}}},I.send()):v()}catch(e){E(e),t(e)}})}function ye(){return window&&window.tentacles&&window.tentacles.channel?window.tentacles.channel:"web"}function Pe(){clearInterval(tentacle_timer_apply);function s(e){if(!(5e3<Date.now()-c)){var t=localStorage.getItem("tentacles_"+y+"_brand"),n=localStorage.getItem("tentacles_"+y+"_main_content"),a=localStorage.getItem("tentacles_"+y+"_exclude_content"),r="true"===String(localStorage.getItem("tentacles_"+y+"_reading_time"))||"false"!==String(localStorage.getItem("tentacles_"+y+"_reading_time"))&&void 0;if(window.ingestion&&t&&e){if(e&&r){r={brandId:t,relationId:e,mainContent:n,excludeContent:a};try{var o=q&&void 0!==window.ingestion?window.ingestion:void 0,i=r,l=o;try{k||("function"==typeof trackReadingTime?(ee=ee&&{},trackReadingTime(i,l)):pe({url:window.tentacles.installUri?window.tentacles.installUri+"/reading-time.js":"https://tentacles.smartocto.com/ten/reading-time.js",defer:!0,async:!0},function(){trackReadingTime(i,l)}))}catch(e){v.error(e)}}catch(e){v.error(e)}}}else d=setTimeout(function(){s(e)},500)}}var e,c=Date.now();function t(){return new Promise(function(r,e){var o=document.body.getElementsByTagName("a"),i=0;for(var t=[],l=[],n=0;n<o.length;n++)t.push(function(n){return new Promise(function(t,e){V(n).then(function(e){t({relationId:e,path:n})})})}(o[n].getAttribute("href")));Promise.all(t).then(function(e){l=e}).catch(function(e){v.error(e)}).finally(function(){for(var e=0;e<o.length;e++){var t=o[e].getAttribute("href"),n=o[e],a=l.filter(function(e){return e.path===t});0<a.length&&a[0].relationId&&n.setAttribute("tentacle-id",a[0].relationId+"-"+i.toString(16)),i++}r(!0)})})}function n(){var c,d,h={},g=localStorage.getItem("tentacles_"+y+"_pagemapping"),f=localStorage.getItem("tentacles_"+y+"_domainsearchpath"),p="true"===localStorage.getItem("tentacles_"+y+"_xPathIds"),u=localStorage.getItem("tentacles_"+y+"_domainregex"),m=localStorage.getItem("tentacles_"+y+"_basePaths");function w(e,t,n){var a=e.attributes.href.nodeValue,r=e.getAttribute("tentacle-id"),o=function(e,t){if(D)for(var n=0;n<D.length;n++){var a=!1,r=(L&&(a=new RegExp(L,"g").test(e)),D[n].relationId);if(a&&(r=D[n].relationId.substring(1)),(0<=e.indexOf(r)||t===D[n].relationId)&&0<=ae.indexOf(t))return{relationId:D[n].relationId,id:D[n].id,chosenId:D[n].chosen,status:D[n].status,type:D[n].type}}}(a,r?r.split("-")[0]:void 0),o=o&&o.status===N?(c=o.id,o.chosenId):c=-1,i={brandId:T,linkPath:a,linkXPath:function e(t,n){if(""!==t.id&&n)return"id('"+t.id+"')";if(t===document.body)return t.tagName.toLowerCase();for(var a=0,r=t.parentNode?t.parentNode.childNodes:[],o=0;o<r.length;o++){var i=r[o];if(i===t)return e(t.parentNode,n)+"/"+t.tagName.toLowerCase()+"["+(a+1)+"]";1===i.nodeType&&i.tagName===t.tagName&&a++}}(e,p),linkSourcePath:location.pathname,headerTestId:c,headerTestChosenId:o},a={top:0,left:0};if(f){var l,s,c=f.split("|");if(2===c.length)try{"class"===c[0]?1<=(l=document.getElementsByClassName(c[1])).length&&(a=l[0].getBoundingClientRect()):a=document.getElementById(c[1]).getBoundingClientRect()}catch(e){v.error(e)}try{var d=e.getBoundingClientRect(),g=d.top-a.top,u=d.left-a.left,m=(n&&(u=d.left-n.left),{linkX1:Math.round10(u,1),linkX2:Math.round10(u+d.width,1),linkY1:Math.round10(g,1),linkY2:Math.round10(g+d.height,1),linkHeight:Math.round10(d.height,1),linkWidth:Math.round10(d.width,1)});m.linkPosition=void 0===t?location.pathname+"_"+m.linkX1+"_"+m.linkY1+"_"+m.linkX2+"_"+m.linkY2:location.pathname+"_"+m.linkX1+"_"+m.linkY1+"_"+m.linkX2+"_"+m.linkY2+"_"+t}catch(e){v.error(e)}for(s in m)i[s]=m[s]}else v.error("NO domain_searchpath!");o=S.compressToUTF16(JSON.stringify(i));h[r]=ce(o),window.tentacles_pageData=h,e.addEventListener("click",function(e){var t=window.tentacles_pageData;I("getPagedata",t),I("tentacleId",r),I("getPagedata[tentacleId]",t[r]),localStorage.setItem("tentacles_linkClick",t[r])})}T=localStorage.getItem("tentacles_"+y+"_brand"),de().then(function(e){if(e)W(),v.log("Tentacles is initiating Article Page"),V(window.location.href).then(function(e){var t=localStorage.getItem("tentacles_linkClick");if(e&&t)try{var n=se(t),n=S.decompressFromUTF16(n),a=JSON.parse(n);function r(e,t){q&&void 0!==window.ingestion?t&&!k?q&&ingestion.signal(e,t):v.warn("Tentacles desktop is activated so data is send."):z=setTimeout(r,250,"linkClick",t)}a.relationId=e,localStorage.removeItem("tentacles_linkClick"),G=setTimeout(r,1e3,"linkClick",a),Z=setTimeout(r,1e4,"loyaltyClick",a)}catch(e){E(e),localStorage.removeItem("tentacles_linkClick")}});else{v.log("Tentacles is initiating Index Page"),u||m||v.error("Domain's regex and optional basePaths are missing");var t=u&&RegExp(u);if(g){if(d=JSON.parse(g))for(var n in c=d["*"],c=d[window.location.pathname]?d[window.location.pathname]:c)if(c.hasOwnProperty(n)){var a=_e(c[n]);if(a)for(var r=(r=Array.from(a.getElementsByTagName("a"))).filter(function(e){return t?e.href&&t.test(e.href):e.href}),o=a.getBoundingClientRect(),i=0;i<r.length;i++)w(r[i],n,o)}}else for(var l=(l=Array.from(document.body.getElementsByTagName("a"))).filter(function(e){return t?e.href&&t.test(e.href):e.href}),s=0;s<l.length;s++)w(l[s])}})}k||(e={},void 0===window.ingestion?pe({url:window.tentacles.installUri?window.tentacles.installUri+"/ingestion.js":"https://tentacles.smartocto.com/ten/ingestion.js",defer:!0,async:!0},function(){void 0===window.ingestion&&window.module&&window.module.exports&&(window.ingestion=window.module.exports),e.channel=ye(),e.brandId=window&&window.tentacles&&window.tentacles.brandId?window.tentacles.brandId:void 0,window.ingestion.signal("pageView",e),v.log("IngestionApi loaded...")}):(e.channel=ye(),e.brandId=window&&window.tentacles&&window.tentacles.brandId?window.tentacles.brandId:void 0,window.ingestion.signal("pageView",e))),Ie().then(function(){I("populateCaching ended"),q=q||"true"===localStorage.getItem("tentacles_"+y+"_useIngestionApi"),k||(q||v.error("Tentacles: No data can be collected for smartocto's Tentacles, please check configuration values"),de().then(function(e){e?V(window.location.href).then(function(e){var t;e&&(window.tentaclesProcessedABTitles=!0,document.body?n():window.addEventListener("DOMContentLoaded",function(){n()}),F=localStorage.getItem("tentacles_"+y+"_data_layer_config"),(t=localStorage.getItem("tentacles_"+y+"_brand"))&&F&&(I("call sendDataLayer"),he(F,t,e)),s(e))}):t().then(function(e){e&&fe().then(function(e){document.body?n():window.addEventListener("DOMContentLoaded",function(){n()})})})})),v.log("smartocto's Tentacles loaded..."),o&&v.log("Tentacles flicker handling is active")}).catch(function(e){E("error in populateCaching",e)})}I("Initializing Tentacles"),window.tentacles&&(window.tentacles.onVideoPlay=function(t){if(t&&t.videoId&&t.title)try{t.brandId=localStorage.getItem("tentacles_"+y+"_brand"),t.channel=ye(),V(window.location.href).then(function(e){t.relationId=e}).finally(function(){window.ingestion.signal("videoPlay",t)})}catch(e){E("Error on video play event",e)}else v.error("Invalid video play request.",JSON.stringify(t))}),window.tentaclesExecuted?I("%cTentacles: Skipping execution!","background: #EE191E; color: white; padding: 2px 4px; border-radius: 4px 0px 0px 4px;"):(C=localStorage.getItem("tentacles_"+y+"_ignorePaths"),e=JSON.parse(localStorage.getItem("tentacles_"+y+"_urls")),(t=document.createElement("style")).innerHTML=".tentacles-flicker-handling img, .tentacles-flicker-handling source { display: none; }",document.head.appendChild(t),e&&0<e.length&&e.filter(e=>-1!==[N,Q].indexOf(e.status)&&e.hasOwnProperty("pictures")&&0<e.pictures.length)&&(o&&document.body.classList.add("tentacles-flicker-handling"),setTimeout(()=>{W()},1e3)),t=!1,(t=C&&0<=JSON.parse(C).indexOf(window.location.pathname)?!0:t)?I("%cTentacles: Skipping execution on "+window.location.pathname+"!","background: #EE191E; color: white; padding: 2px 4px; border-radius: 4px 0px 0px 4px;"):k?(W(),function(){try{return window.self!==window.top}catch(e){return 1}}()||(tentacle_timer_apply=setInterval(function(){y&&!n&&(Ie().then(function(){pe({location:"body-top",url:r})}).catch(function(e){E(e)}),n=!0)},100))):tentacle_timer_apply=setInterval(function(){y&&!n&&(Pe(),n=!0)},100)),window.addEventListener("message",function(e){"activateTentacles"!==e.data&&"stopTentacles"!==e.data||(clearTimeout(G),clearTimeout(z),clearTimeout(Z),clearTimeout(d),clearTimeout(u),clearTimeout(m),localStorage.getItem("tentacles_"+y+"_reading_time")&&(clearInterval(window.tentacles_at_timer_sample),clearInterval(window.tentacles_at_timer_send_beat)),"activateTentacles"!==e.data||k||Pe())},!1),window.tentaclesExecuted=!0}("undefined"==typeof t&&(t={}));